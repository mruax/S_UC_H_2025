{% extends 'base.html' %}

{% block title %}{{ course.title }}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 30px;">
        <div>
            <h1>{{ course.title }}</h1>
            <p style="font-size: 18px; color: #86868b;">{{ course.category }}</p>
        </div>
        <span style="font-size: 12px; background: #000; color: #fff; padding: 6px 12px; border-radius: 6px;">
            {{ course.difficulty }}
        </span>
    </div>

    <div class="card" style="margin-bottom: 30px;">
        <h2 style="margin-bottom: 15px;">Описание курса</h2>
        <p style="line-height: 1.6;">{{ course.description }}</p>
    </div>

    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px;">
        <div class="card" style="text-align: center;">
            <p style="font-size: 14px; color: #86868b;">Длительность</p>
            <p style="font-size: 24px; font-weight: 600;">{{ course.duration_hours }}ч</p>
        </div>
        <div class="card" style="text-align: center;">
            <p style="font-size: 14px; color: #86868b;">Прогресс</p>
            <p style="font-size: 24px; font-weight: 600;">{{ progress.progress_percent }}%</p>
        </div>
        <div class="card" style="text-align: center;">
            <p style="font-size: 14px; color: #86868b;">Moodle ID</p>
            <p style="font-size: 16px; font-weight: 600;">{{ course.moodle_id }}</p>
        </div>
    </div>

    <div class="card">
        <h2 style="margin-bottom: 15px;">Прогресс обучения</h2>
        <div style="width: 100%; height: 20px; background: #f5f5f7; border-radius: 10px; overflow: hidden;">
            <div style="width: {{ progress.progress_percent }}%; height: 100%; background: #000; transition: width 0.3s;"></div>
        </div>
        <p style="text-align: center; margin-top: 10px; font-size: 14px;">
            {{ progress.progress_percent }}% завершено
        </p>
    </div>

    <div style="text-align: center; margin-top: 40px; padding: 40px; background: #f5f5f7; border-radius: 12px;">
        <h3 style="margin-bottom: 15px;">Перейти к курсу</h3>
        {% if course.external_url %}
        <a href="{{ course.external_url }}" target="_blank" class="btn" style="display: inline-block; margin-top: 20px;">
            Открыть курс
        </a>
        {% else %}
        <p style="color: #86868b; margin-bottom: 20px;">Ссылка на курс пока не добавлена</p>
        {% endif %}
    </div>
</div>
{% endblock %}